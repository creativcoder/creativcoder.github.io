<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Understanding the HTTP Protocol in simple terms (part 1: The HTTP request)&middot; creativcoder&#39;s blog</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Rahul Sharma">
	
	
	<meta name="generator" content="Hugo 0.21" />

	<!-- CSS -->
	<link rel="stylesheet" href="https://creativcoder.github.io/css/main.css">
	<link rel="stylesheet" href="https://creativcoder.github.io/css/responsive.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="https://creativcoder.github.io/favicon.ico" type="image/x-icon">

	<!-- RSS -->
	

	<!-- Font Awesome -->
	<link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="https://fonts.googleapis.com/css?family=Chivo:italic" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Courgette" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono" rel="stylesheet">

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

<link href="https://fonts.googleapis.com/css?family=Asap" rel="stylesheet">

<body>
    <header class="site-header">
	<div class="branding">
		<a href="https://creativcoder.github.io/">
		<img class="avatar" src="https://creativcoder.github.io/img/avatar.jpg" alt=""/>
		</a>
		<h1 class="site-title">
			<a href="https://creativcoder.github.io/">creativcoder&#39;s blog</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
	      	<li><a href="/about/"> :: whoami </a></li>

	      	<li>
	<a href="https://creativcoder.github.io/" title="">
		<i class="fa fa-fw fa-home"></i>
	</a>
</li>

<li>
	<a href="https://creativcoder.github.io/index.xml" title="Subcribe">
		<i class="fa fa-fw fa-rss"></i>
	</a>
</li>

<li>
	<a href="mailto:rsconceptx@gmail.com" title="Email">
		<i class="fa fa-fw fa-envelope"></i>
	</a>
</li>











<li>
	<a href="https://github.com/creativcoder" title="GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>





<li>
	<a href="https://www.linkedin.com/in/creativcoder" title="LinkedIn">
		<i class="fa fa-fw fa-linkedin"></i>
	</a>
</li>







<li>
	<a href="creativcoder" title="Stack Exchange">
		<i class="fa fa-fw fa-stack-exchange"></i>
	</a>
</li>





<li>
	<a href="https://twitter.com/creativcoder" title="Twitter">
		<i class="fa fa-fw fa-twitter"></i>
	</a>
</li>









	    </ul>
	</nav>
</header>


    <div class="content">
    <article>
		<header>
			<h1 class="title">Understanding the HTTP Protocol in simple terms (part 1: The HTTP request)</h1>
			<p class="meta">
    February 16, 2016 &middot; 6 minute read

    
        &middot; Tags:
            <a href="https://creativcoder.github.io/tags/details">details</a>
            , <a href="https://creativcoder.github.io/tags/http">http</a>
            , <a href="https://creativcoder.github.io/tags/rfc">rfc</a>
            , <a href="https://creativcoder.github.io/tags/web">web</a>
            
</p>

		</header>

	<section class="post-content">
		<p>This post, will discuss, about the abstraction that, the &lsquo;user facing&rsquo; internet stands on.
I have seen many of my peers ask from time to time, what is http, and how it works.
Also as a web developer understanding HTTP protocol is an essential asset to be able to think in a way, as to how to architecture your web apps, so that it
follows the semantics of HTTP.</p>

<p>I intend to make things less vague, from what i have learned.</p>

<p>Okay, a bit of background first.</p>

<p>Just as, we humans, need a language with a meaningful structure to communicate and exchange ideas effectively among our peers; in a similar way when our computers need to talk to different computers over a network, they need a medium or a language to speak, so that exchange of resources can take place between them. And HTTP is just that language or a protocol in technical parlance, using which computers can talk to other remote computers over a network.
Technically speaking, HTTP is a request/response based, stateless (will come to this on a follow up post) application layer protocol, implemented on top of a stateful protcol which is TCP/IP usually. TCP/IP is another lower layer of abstraction for communication over the network.</p>

<p>And in a similar way like, our english sentences have a formal structure and semantic; the HTTP protocol also has a formal description of it, usually defined in a spec sheet, called <a href="https://www.ietf.org/rfc.html">RFC</a>&rsquo;s (Request for Comments). These are standardized documents, that are accepted globally and maintained by IETF(Internet Engineering Task Force).</p>

<p>The HTTP&rsquo;s <a href="https://www.rfc-editor.org/rfc/rfc2616.txt">RFC</a> describes in details, every aspect of the request reponse cycle, that can happen over when two machines are communicating over HTTP, how the message will be parsed, what sort of security aspects to employ when sending the message, etc., and these are then implemented by servers and clients ( usually web browsers ), using a programming language based on the infrastructure and needs. The choice of language, is independent, as HTTP specification is language agnostic.</p>

<p>So a server that, is able to speak the http protocol is called an HTTP Server.</p>

<p>Examples of http servers are <a href="https://www.nginx.com">nginx</a>, <a href="http://www.apache.org">apache</a>, etc.</p>

<p>and similarly, a client which is able to speak the http protcol, is called an Http Client.</p>

<p>Examples of http clients are <a href="https://curl.haxx.se/">cURL</a> (command line http client), python <a href="https://pypi.python.org/pypi/requests">requests</a> library and ofcourse web browsers.</p>

<p>Now with that explained, we are at the point to see some actual HTTP message.</p>

<p>In HTTP, there are two parts of communication.
One is the request part, which is sent by http-clients, and the other is the response part, which is sent back by the servers on getting a http request.</p>

<p>Now before we see any actual message, let us understand what a resource means in http.
Under HTTP, anything that we want to communicate to and fro or query for, with the remote machine is generally termed as a Resource.</p>

<p>So lets see how, how do you say &lsquo;hi&rsquo; in http. (the request part of HTTP Communication)</p>

<p>Before that, lets fire up a socket server in python over TCP, so that we can see what, http request mesage we are receiving from our browser(an http client). We will expand our server further to respond to our browser with a &lsquo;hey hi client&rsquo;, when the request is <code>/hi</code> in part 2 of this post.</p>

<pre><code>import socket

host,port = ('',1313)

listener = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
listener.setsockopt(socket.SOL_SOCKET,socket.SO_REUSEADDR,1)
listener.bind((host,port))
listener.listen(1)
print(&quot;Serving on port {}&quot;.format(port))
while True:
    client_conn,client_addr = listener.accept()
    request = client_conn.recv(1024)
    print request 
</code></pre>

<p>We won&rsquo;t be diving much into the details of the python sockets connection mechanism, to keep the blog focused only on HTTP. I intend to do another blog post on sockets. To put it in brief, sockets are endpoints of communcation, or channels,(technically its a tuple of (ip_address,port) ) that forms a pathway for messages to be sent accross remote entities.</p>

<p>Save it as server.py, and do <code>python server.py</code> to make it, start listening for requests on port 1313.</p>

<p>Now head over to the web browser, and put the url : <code>localhost:1313/hi</code>.</p>

<p>Over your terminal window you will see something getting logged to standard output like this.</p>

<pre><code>GET /hi HTTP/1.1
Host: localhost:1313
Connection: keep-alive
Accept: text/html, application/xhtml, application/xml .... (omitted for brevity)
User-Agent: Mozilla/5.0 (Windows NT 6.3) .... (omitted for brevity)
Accept-Encoding: gzip, deflate,sdch
Accept-Language: en-US,en;q=0.8
Cookie: _ga=GA1.1.52864490.1449694093;__atuvc=27%7C7 ....
</code></pre>

<p>An http request starts a series of key value pairs, which in http parlance are known as <code>header fields</code>.Basically each key value pair stores a metadata about our request, which is important to let the server know, like information about which http client it will be talking to and what resource is the client asking for and other details. I will touch on a few header fields here.</p>

<p>The first line is of our concern here:</p>

<p><code>GET /hi HTTP/1.1</code></p>

<p>This says that, it is a <code>GET</code> request, and the path to our resource resides at <code>/hi</code>, and next is the protcol that the client speaks which is <code>HTTP/1.1</code>.</p>

<p>The next line tells about, the <code>host</code>, which is <code>localhost:1313</code>. It serves as the information to the server, where to send the resposne back to. <code>localhost</code> is our domain,<code>1313</code>, is our port number on which the server is listening to.</p>

<p>Note: Now web servers by convention, listen on port 80</p>

<p>Now before we talk about the next line, we need to know about the term <code>stateless</code>. As HTTP is a stateless protocol, each request and response cycle is not dependent on any previous request reponse. Every response that is made, is ignorant of the state of the server, or any previous request that was sent. I intend to have another blog post on stateless property of HTTP, so for the time being lets, keep it to this definition.</p>

<p>So the <code>Connection: keep-alive</code> says, that we want to reuse the same tcp connection we established on the request, for further requests. As HTTP is stateless it closes the connection after every request it makes and so for every subsequent request, HTTP has to re-establish connection to the server.
If this header field is present, this will try to minimize the the overhead of re-establising the tcp connection on further request. The time for connection keep alive, is usually specified when implementing the server, and also can be configured.</p>

<p>The <code>User-Agent</code> header serves as another identity mechanism, to send different, representations of response message to the user. In this example, the user-agent is a Web browser. A mobile device will send a user agent ( for example <code>Apple-iPhone4C1/902.206</code> is the user agent for an Apple iPhone4C ); that is different from a web browser becuase its different in terms of form factor, and various features. So accordingly that wil be served differently by the web server.</p>

<p>For further information on other fields, i would reference the sections on the RFC for HTTP1.1, as it is explained better, and it will also help you to get more into reading RFC&rsquo;s directly, and get familiar with their struture and how to make meaning out of them.</p>

<p><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.3">Accept-Encoding</a></p>

<p><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">Accept-Language</a></p>

<p><a href="https://tools.ietf.org/html/rfc6265#section-4.2">Cookie</a></p>

<p>In the next part of this post, we will look over the other side of HTTP, i.e., the Response. We will parse the first line of header field of our request, and will send a response back to the browser.</p>

<p>Thanks. Let me know what you feel of this post.</p>


		
			<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'creativcoder';
    var disqus_identifier = 'https:\/\/creativcoder.github.io\/post\/understanding_http_part_one\/';
    var disqus_title = 'Understanding the HTTP Protocol in simple terms (part 1: The HTTP request)';
    var disqus_url = 'https:\/\/creativcoder.github.io\/post\/understanding_http_part_one\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		
	</section>
    </div>

    <footer class="site-footer">
	<p class="text">&copy; 2017 - Released under the MIT license<br>Powered by <a href="//gohugo.io/">Hugo</a> with the <a href="//github.com/digitalcraftsman/hugo-type-theme">Type Theme</a></p>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-87920648-1', 'auto');
ga('send', 'pageview');
</script>

</body>
</html>
